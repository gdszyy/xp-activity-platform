flowchart TD
    Start([模板设计者登录]) --> TemplateList[模板列表页]
    
    TemplateList --> |新建模板| CreateTemplate[创建新模板]
    TemplateList --> |编辑模板| EditTemplate[编辑现有模板]
    
    CreateTemplate --> Canvas[LogicFlow画布页]
    EditTemplate --> Canvas
    
    Canvas --> DragNode[从节点库拖拽节点]
    DragNode --> ConnectNode[连接节点形成流程]
    ConnectNode --> ConfigNode[配置节点参数]
    
    ConfigNode --> ExposeVar{需要暴露变量?}
    ExposeVar --> |是| MarkVar[标记参数为暴露变量]
    ExposeVar --> |否| DefineSchema
    
    MarkVar --> DefineUI[定义变量的UI元数据]
    DefineUI --> DefineSchema[定义用户数据Schema]
    
    DefineSchema --> SaveDraft{保存为草稿?}
    SaveDraft --> |是| SaveAsDraft[保存草稿]
    SaveDraft --> |否| Publish[发布模板]
    
    SaveAsDraft --> TemplateList
    Publish --> VersionManage[版本管理]
    VersionManage --> TemplateList
    
    TemplateList --> End([完成])
    
    style Start fill:#4CAF50,stroke:#2E7D32,stroke-width:3px,color:#fff
    style End fill:#4CAF50,stroke:#2E7D32,stroke-width:3px,color:#fff
    style Canvas fill:#2196F3,stroke:#1565C0,stroke-width:2px,color:#fff
    style Publish fill:#FF9800,stroke:#E65100,stroke-width:2px,color:#fff
